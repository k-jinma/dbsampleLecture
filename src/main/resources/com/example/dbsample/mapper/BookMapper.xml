<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.dbsample.mapper.BookMapper">

    <!-- ▽▽▽▽▽ リスト9.17 ▽▽▽▽▽ -->
    <!-- 書籍と出版社の1対1の関係 -->
    <!-- <resultMap id="BookWithPublisherResult"
        type="com.example.dbsample.entity.Book">
        <id property="id" column="id" />
        <result property="title" column="title" />
        <result property="author" column="author" />
        <association property="publisher"
            javaType="com.example.dbsample.entity.Publisher">
            <id property="id" column="publisher_id" />
            <result property="name" column="publisher_name" />
        </association>
    </resultMap> -->
    <!-- △△△△△ リスト9.17 △△△△△ -->

    <!-- ▽▽▽▽▽ リスト9.18 ▽▽▽▽▽ -->
    <!-- 書籍とレビューの1対多の関係 -->
    <!-- <resultMap id="BookWithReviewsResult"
        type="com.example.dbsample.entity.Book">
        <id property="id" column="id" />
        <result property="title" column="title" />
        <result property="author" column="author" />
        <collection property="reviews" ofType="com.example.dbsample.entity.Review">
            <id property="id" column="review_id" />
            <result property="bookId" column="book_id" />
            <result property="reviewText" column="review_text" />
        </collection>
    </resultMap> -->
    <!-- △△△△△ リスト9.18 △△△△△ -->

    <select id="getAllBooks" resultType="com.example.dbsample.entity.Book"> 
        SELECT id, title, author FROM books ORDER BY id
    </select>

    <select id="getBookById" resultType="com.example.dbsample.entity.Book"> 
        SELECT id, title, author FROM books WHERE id = #{id}
    </select>
</mapper>